<svg id='tle' viewBox="0 0 1200 600" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"  style="width: 100%; height: 100%;" version="1.1">
    <desc>Fake desc</desc>
    <title>Fake title</title>
    <rect x='0' y='0' width='100%' height = '100%' style="stroke: blue; fill: green; fill-opacity: 0.2;" />
<!--    <polyline style="stroke:black; stroke-width: 2px; fill:none" points="60,15,1140,15,1140,435,60,435,60,15" />-->

<svg id='tlg' viewBox="0 0 1080 540" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"  width='90%' height = '90%'  style="overflow: hidden;" x = '5%' y = '5.0%' version="1.1" preserveAspectRatio='none'>
    <rect  x='0' y='0' width='100%' height = '100%' style="stroke: blue; fill: green; fill-opacity: 0.2;" />
 <circle cx="000" cy="000" r="100" fill="red" stroke="blue" stroke-width="10"  />
 <circle cx="100%" cy="000" r="100" fill="red" stroke="blue" stroke-width="10"  />
 <circle cx="100%" cy="100%" r="100" fill="red" stroke="blue" stroke-width="10"  />
 <circle cx="000" cy="100%" r="100" fill="red" stroke="blue" stroke-width="10"  />
</svg>
<!--
<svg x='20%' y='75%' width = '60%' height = '22.50%'  id='gkey'>
<rect   x='0' y='0' width='100%' height = '100%' style="stroke: blue; fill: green; fill-opacity: 0.2;"/>
<text x="0" y="20" font-family="Verdana" font-size="20" fill="blue" >
    Hello, out there
  </text>
</svg>
-->
    <script type="text/ecmascript" xlink:href="mescaline/mouse.js"/>
    <script type="text/ecmascript" xlink:href="mescaline/data_set.js"/>
    <script type="text/ecmascript" xlink:href="mescaline/graph.js"/>
    <script type="text/ecmascript" xlink:href="mescaline.js"/>
    <script type="text/ecmascript">

tg = new Mescaline();
Mescaline.config.top_level_name = 'tg';
Mescaline.config.gsvg_id = 'tlg';
Mescaline.config.gsvg_node = document.getElementById(Mescaline.config.gsvg_id);
Mescaline.config.key_svg_id = 'gkey';
Mescaline.config.key_svg_node = document.getElementById(Mescaline.config.key_svg_id);
//Mescaline.config.mouseover = true;
tg.mouse = new MMouse('tlg');
DataSet.virtual_width = 1080;
DataSet.virtual_height = 540;


tg.draw_bg();
function bootstrap(){
  var the_object = {}; 
  var http_request = new XMLHttpRequest();
  http_request.open( "GET", 'http://localhost/mescaline_svg/demo/test2.json', true );
  http_request.onreadystatechange = function () {
    if ( http_request.readyState == 4){
      if(  http_request.status == 200 ) {
        the_object = eval( http_request.responseText );
        var data= the_object;
        tg.graph_group().add_graph('test1',data);
      }
    }
  };
  http_request.send(null);
  setInterval("refresh()",2000);
}

function refresh(){
  var the_object = {}; 
  var http_request = new XMLHttpRequest();
  http_request.open( "GET", 'http://localhost/mescaline_svg/demo/test2.json', true );
  http_request.onreadystatechange = function () {
    if ( http_request.readyState == 4){
      if(  http_request.status == 200 ) {
        the_object = eval( http_request.responseText );
        var data= the_object;
        tg.graph_group().add_graph('test1',data);
      }
    }
  };
  http_request.send(null);
}
bootstrap();
    </script> 
</svg>
